<prizm-doc-page header="DropdownHost">
  <div class="page-description" description>
    Our dropdown host component is a wrapper for the dropdown component. It is used to provide a dropdown with
    a trigger element.
  </div>
  <ng-template prizmDocPageTab>
    <prizm-doc-example id="base" [content]="exampleWithTemplate" heading="With Template">
      <prizm-dropdown-host-example-with-template></prizm-dropdown-host-example-with-template>
    </prizm-doc-example>

    <prizm-doc-example
      id="select-panel"
      [content]="exampleWithSelectPanel"
      heading="Select panel (with custom css variables)"
    >
      <prizm-select-panel-example></prizm-select-panel-example>
    </prizm-doc-example>

    <prizm-doc-example
      id="nested"
      [content]="exampleDateRangeList"
      heading="Date Range Template (Nested Dropdown)"
    >
      <prizm-dropdown-host-date-list-example></prizm-dropdown-host-date-list-example>
    </prizm-doc-example>

    <prizm-doc-example id="range" [content]="exampleDateRangeListEdit" heading="Date Range 2 Template">
      <prizm-dropdown-host-date-list-edit-example></prizm-dropdown-host-date-list-edit-example>
    </prizm-doc-example>

    <prizm-doc-example id="custom-context" [content]="exampleCustomContext" heading="Custom Context">
      <prizm-dropdown-host-example-with-custom-context></prizm-dropdown-host-example-with-custom-context>
    </prizm-doc-example>

    <prizm-doc-example id="custom-style" [content]="exampleCustomStyle" heading="Custom Style">
      <prizm-dropdown-host-custom-style-example></prizm-dropdown-host-custom-style-example>
    </prizm-doc-example>

    <prizm-doc-example id="by-method" [content]="exampleWithMethods" heading="Controll via methods">
      <prizm-dropdown-host-example-by-method></prizm-dropdown-host-example-by-method>
    </prizm-doc-example>
  </ng-template>

  <ng-template prizmDocPageTab prizmDocHost>
    <prizm-doc-demo>
      <prizm-dropdown-host
        #element
        #dropdownTriggerClickElement="prizmDropdownTriggerClick"
        [(isOpen)]="isOpen"
        [dropdownDisabled]="disabled"
        [content]="withHeaderAndFooter"
        [autoReposition]="autoReposition"
        [prizmDropdownHostWidth]="prizmDropdownHostWidth"
        [placement]="placement"
        [prizmDropdownHostId]="prizmDropdownHostId"
        [delay]="delay"
        [canOpen]="canOpen"
        [closeOnOutsideClick]="closeOnOutsideClick"
        [closeByEsc]="closeByEsc"
        [dropdownClasses]="dropdownClasses"
        [dropdownStyles]="dropdownStyles"
        [prizmDocHostElement]="[element, dropdownTriggerClickElement]"
        [prizmDocHostElementKey]="[key, keyForTrigger]"
        dropdownTrigger="click"
        style="display: inline-block; width: auto"
      >
        <button prizmButton type="button">Button</button>
      </prizm-dropdown-host>

      <ng-template #withHeaderAndFooter>
        <div>
          <prizm-data-list>
            <ng-container header>Заголовок блока</ng-container>
            <div class="box">
              <button prizmButton appearanceType="fill">Кнопка 1</button>
              <button prizmButton appearanceType="fill">Кнопка 2</button>
            </div>
            <ng-container footer>
              <button (click)="isOpen = false; cdRef.markForCheck()" prizmButton>Закрыть</button>
            </ng-container>
          </prizm-data-list>
        </div>
      </ng-template>

      <ng-template #withHeader>
        <prizm-data-list>
          <div class="box">
            <button prizmButton appearanceType="fill">Кнопка 1</button>
            <button prizmButton appearanceType="fill">Кнопка 2</button>
          </div>
          <ng-container footer>
            <button (click)="isOpen = false; cdRef.markForCheck()" prizmButton>Закрыть</button>
          </ng-container>
        </prizm-data-list>
      </ng-template>

      <ng-template #withFooter>
        <prizm-data-list>
          <ng-container header>Заголовок блока</ng-container>
          <div class="box">
            <button prizmButton appearanceType="fill">Кнопка 1</button>
            <button prizmButton appearanceType="fill">Кнопка 2</button>
          </div>
        </prizm-data-list>
      </ng-template>

      <ng-template #onlyContent>
        <prizm-data-list>
          <div class="box">
            <button prizmButton appearanceType="fill">Кнопка 1</button>
            <button prizmButton appearanceType="fill">Кнопка 2</button>
          </div>
        </prizm-data-list>
      </ng-template>
    </prizm-doc-demo>
    <prizm-doc-documentation [heading]="keyForTrigger" [hostComponentKey]="keyForTrigger" [hasTestId]="false">
      <ng-template
        documentationPropertyName="dropdownTriggerElement"
        documentationPropertyType="HTMLElement"
        documentationPropertyMode="input"
      >
        Element For Listen Trigger Element
      </ng-template>
      <ng-template
        [(documentationPropertyValue)]="disabled"
        documentationPropertyName="dropdownDisabled"
        documentationPropertyType="boolean"
        documentationPropertyMode="input"
      >
        Disabled
      </ng-template>
    </prizm-doc-documentation>
    <prizm-doc-documentation [heading]="key" [hostComponentKey]="key">
      <ng-template
        [(documentationPropertyValue)]="prizmDropdownHostWidth"
        documentationPropertyName="prizmDropdownHostWidth"
        documentationPropertyType="string"
        documentationPropertyMode="input"
      >
        Host Width
      </ng-template>
      <ng-template
        documentationPropertyName="prizmDropdownCustomContext"
        documentationPropertyType="PrizmDropdownHostCustomContext"
        documentationPropertyMode="input"
      >
        Custom Context (passed to template)
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="isOpen"
        documentationPropertyName="isOpen"
        documentationPropertyType="boolean"
        documentationPropertyMode="input"
      >
        Is Open
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="dropdownStyles"
        [documentationPropertyValues]="dropdownStylesVariants"
        documentationPropertyName="dropdownStyles"
        documentationPropertyType="PrizmDropdownHostStyles"
        documentationPropertyMode="input"
      >
        Styles for dropdown modal window
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="dropdownClasses"
        [documentationPropertyValues]="dropdownClassesVariants"
        documentationPropertyName="dropdownClasses"
        documentationPropertyType="PrizmDropdownHostClasses"
        documentationPropertyMode="input"
      >
        Classes for dropdown modal window
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="autoReposition"
        documentationPropertyName="autoReposition"
        documentationPropertyType="boolean"
        documentationPropertyMode="input"
      >
        Auto Reposition
      </ng-template>

      <ng-template
        documentationPropertyName="prizmDropdownHost"
        documentationPropertyType="HTMLElement"
        documentationPropertyMode="input"
      >
        Use to make the overlay window be drawn relative to this element
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="closeOnOutsideClick"
        documentationPropertyName="closeOnOutsideClick"
        documentationPropertyType="boolean"
        documentationPropertyMode="input"
      >
        Auto close on outside click
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="placement"
        [documentationPropertyValues]="placementVariants"
        documentationPropertyName="placement"
        documentationPropertyType="PrizmOverlayOutsidePlacement"
        documentationPropertyMode="input"
      >
        Placement
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="content"
        documentationPropertyName="content"
        documentationPropertyType="PolymorphContent<PrizmDropdownHostContext>"
        documentationPropertyMode="input"
      >
        Content
      </ng-template>
      <ng-template
        [(documentationPropertyValue)]="prizmDropdownHostId"
        documentationPropertyName="prizmDropdownHostId"
        documentationPropertyType="string"
        documentationPropertyMode="input"
      >
        Prizm Dropdown HostId
      </ng-template>
      <ng-template
        [(documentationPropertyValue)]="delay"
        documentationPropertyName="delay"
        documentationPropertyType="number"
        documentationPropertyMode="input"
      >
        Delay
      </ng-template>
      <ng-template
        [(documentationPropertyValue)]="canOpen"
        documentationPropertyName="canOpen"
        documentationPropertyType="boolean"
        documentationPropertyMode="input"
      >
        Can Open
      </ng-template>
      <ng-template
        [(documentationPropertyValue)]="closeByEsc"
        documentationPropertyName="closeByEsc"
        documentationPropertyType="boolean"
        documentationPropertyMode="input"
      >
        Close By Esc
      </ng-template>
      <!--      <ng-template-->
      <!--        [(documentationPropertyValue)]="prizmDropdownHostCloseOnBackdropClick"-->
      <!--        documentationPropertyName="prizmDropdownHostCloseOnBackdropClick"-->
      <!--        documentationPropertyType="boolean"-->
      <!--        documentationPropertyMode="input"-->
      <!--      >-->
      <!--        Prizm Dropdown Host Close On Backdrop Click-->
      <!--      </ng-template>-->
      <ng-template
        [(documentationPropertyValue)]="isOpenChange"
        documentationPropertyName="isOpenChange"
        documentationPropertyType="boolean"
        documentationPropertyMode="output"
      >
        Is Open Change
      </ng-template>
    </prizm-doc-documentation>
  </ng-template>

  <ng-template prizmDocPageTab>
    <ol class="b-demo-steps">
      <li>
        <p>
          Import
          <code>PrizmDropdownHostModule</code>
          into a module where you want to use our component
        </p>

        <prizm-doc-code [code]="exampleModule" filename="custom.module.ts"></prizm-doc-code>
      </li>
    </ol>
  </ng-template>
</prizm-doc-page>
