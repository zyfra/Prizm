<div class="container">
  <div class="control" [class.control_active]="isLeftBtnActive">
    <button
      [icon]="'arrows-chevron-left'"
      (click)="decrease()"
      prizmIconButton
      appearanceType="ghost"
      appearance="secondary"
      size="m"
    ></button>
    <prizm-dropdown-host
      class="dropdown-host"
      #dropdownMore="prizm-dropdown-host"
      *ngIf="canShowMenu && !isRightBtnActive"
      [(isOpen)]="openLeft"
      [content]="dropdown"
      (prizmAfterViewInit)="tabsMoreDropdown = dropdownMore"
      prizmDropdownHostWidth="auto"
    >
      <prizm-icon
        class="control__settings"
        [class.control__settings_active]="openLeft"
        [size]="16"
        (click)="openLeft = !openLeft"
        iconClass="settings-more-vert"
      ></prizm-icon>
    </prizm-dropdown-host>
  </div>

  <div class="tabs" #tabsContainer>
    <ng-content></ng-content>
  </div>

  <div class="control" *ngIf="canShowMenu" [class.control_active]="isRightBtnActive">
    <prizm-dropdown-host
      class="dropdown-host"
      #tabsDropdown
      [(isOpen)]="openRight"
      [content]="dropdown"
      (prizmAfterViewInit)="tabsMoreDropdown = tabsDropdown"
      prizmDropdownHostWidth="auto"
    >
      <prizm-icon
        class="control__settings"
        [class.control__settings_active]="openRight"
        [size]="16"
        (click)="openRight = !openRight"
        iconClass="settings-more-vert"
      ></prizm-icon>
    </prizm-dropdown-host>
    <button
      [icon]="'arrows-chevron-right'"
      (click)="increase()"
      prizmIconButton
      appearanceType="ghost"
      appearance="secondary"
      size="m"
    ></button>
  </div>

  <ng-template #dropdown>
    <prizm-data-list>
      <div class="tabs-column prizm-tab-menu-container">
        <ng-container *ngFor="let tabElement of tabElements; let i = index">
          <ng-container *ngIf="tabElement as tab">
            <prizm-tab
              *prizmLet="{ inMenuIdx: i }"
              [type]="tab.type"
              [content]="$any(tab.content)"
              [icon]="tab.icon"
              [closable]="$any(tab.closable)"
              [disabled]="$any(tab.disabled)"
              [attr.dropdown-tab]="true"
              (click)="clickTab()"
              (closeTab)="closeTab($any(tabElement.idx))"
            >
            </prizm-tab>
          </ng-container>
        </ng-container>
      </div>
    </prizm-data-list>
  </ng-template>
</div>
